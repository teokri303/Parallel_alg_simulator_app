function swap(n,r,e){var a=n[r];n[r]=n[e],n[e]=a}function oddEvenSort(n,r){for(var e=0;e<n.length;){e++;for(var a=0;a<n.length-1;a+=2)n[a]>n[a+1]&&swap(n,a,a+1);e++;for(var t=1;t<n.length-1;t+=2)n[t]>n[t+1]&&swap(n,t,t+1)}return r%2!==0&&n.reverse(),n}onmessage=function(n){var r=n.data.chunk,e=n.data.direction;if(0===n.data.phase)for(var a=0;a<r.length;a++)oddEvenSort(r[a],e),e++;else for(var t=r[0].length,o=function(n){for(var e=r.map((function(r){return r[n]})),a=oddEvenSort(e,0),t=0;t<r.length;t++)r[t][n]=a[t]},f=0;f<t;f++)o(f);postMessage(r)};